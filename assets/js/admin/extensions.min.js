!function(a,e){var t=a(document);e.updates.installExtension=function(s){var l=a(".plugin-card-"+s.slug),n=l.find(".install-now");return s=_.extend({success:e.updates.installExtensionSuccess,error:e.updates.installPluginError},s),n.html()!==e.updates.l10n.installing&&n.data("originaltext",n.html()),n.addClass("updating-message").attr("aria-label",e.updates.l10n.pluginInstallingLabel.replace("%s",n.data("name"))).text(e.updates.l10n.installing),e.a11y.speak(e.updates.l10n.installingMsg,"polite"),l.removeClass("plugin-card-install-failed").find(".notice.notice-error").remove(),t.trigger("wp-plugin-installing",s),e.updates.ajax("everest_forms_install_extension",s)},e.updates.installExtensionSuccess=function(s){var l=a(".plugin-card-"+s.slug).find(".install-now"),n=a(".plugin-card-"+s.slug).find(".status-label");l.removeClass("updating-message").addClass("updated-message installed button-disabled").attr("aria-label",e.updates.l10n.pluginInstalledLabel.replace("%s",s.pluginName)).text(e.updates.l10n.pluginInstalled),e.a11y.speak(e.updates.l10n.installedMsg,"polite"),t.trigger("wp-extension-install-success",s),s.activateUrl&&setTimeout(function(){n.removeClass("status-install-now").addClass("status-active").text(e.updates.l10n.pluginInstalled),l.removeClass("install-now installed button-disabled updated-message").addClass("activate-now button-primary").attr("href",s.activateUrl).attr("aria-label",e.updates.l10n.activatePluginLabel.replace("%s",s.pluginName)).text(e.updates.l10n.activatePlugin)},1e3)},a(function(){t.on("click",".plugin-install .install-now",function(s){var l=a(s.target),n=a(this).data("name");s.preventDefault(),l.hasClass("updating-message")||l.hasClass("button-disabled")||(e.updates.shouldRequestFilesystemCredentials&&!e.updates.ajaxLocked&&(e.updates.requestFilesystemCredentials(s),t.on("credential-modal-cancel",function(){a(".install-now.updating-message").removeClass("updating-message").text(e.updates.l10n.installNow).attr("aria-label",e.updates.l10n.installNowLabel.replace("%s",n)),e.a11y.speak(e.updates.l10n.updateCancel,"polite")})),e.updates.installExtension({slug:l.data("slug"),name:l.data("name"),pagenow:pagenow,success:e.updates.installExtensionSuccess,error:e.updates.installPluginError}))})})}(jQuery,window.wp);